// This code has been automatically generated by:
// dev_scripts/test_codegen/generate_test_jsonization_of_concrete_classes.py
// Do NOT edit or append.

#include "./common.hpp"
#include "./common_jsonization.hpp"

#include <aas_core/aas_3_0/jsonization.hpp>

#define CATCH_CONFIG_MAIN
#include <catch2/catch.hpp>

namespace aas = aas_core::aas_3_0;

template<class ClassT>
void AssertRoundTrip(
  const std::filesystem::path& path,
  std::function<
    aas::common::expected<
      std::shared_ptr<ClassT>,
      aas::jsonization::DeserializationError
    >(const nlohmann::json&, bool)
  > deserialization_function
) {
  const nlohmann::json json = test::common::jsonization::MustReadJson(path);

  aas::common::expected<
    std::shared_ptr<ClassT>,
    aas::jsonization::DeserializationError
  > deserialized = deserialization_function(json, false);

  if (!deserialized.has_value()) {
    INFO(
      aas::common::Concat(
        "Failed to de-serialize from ",
        path.string(),
        ": ",
        aas::common::WstringToUtf8(
          deserialized.error().path.ToWstring()
        ),
        ": ",
        aas::common::WstringToUtf8(
          deserialized.error().cause
        )
      )
    )
    REQUIRE(deserialized.has_value());
  }

  nlohmann::json another_json = aas::jsonization::Serialize(
    *(deserialized.value())
  );

  std::optional<std::string> diff_message = test::common::jsonization::CompareJsons(
    json,
    another_json
  );
  if (diff_message.has_value()) {
    INFO(
      aas::common::Concat(
        "The JSON round-trip from ",
        path.string(),
        " failed. There is a diff between the original JSON "
        "and the serialized one: ",
        *diff_message
      )
    )
    REQUIRE(!diff_message.has_value());
  }
}

template<typename ClassT>
void AssertDeserializationFailure(
  const std::filesystem::path& path,
  std::function<
    aas::common::expected<
      std::shared_ptr<ClassT>,
      aas::jsonization::DeserializationError
    >(const nlohmann::json&, bool)
  > deserialization_function,
  const std::filesystem::path& error_path
) {
  const nlohmann::json json = test::common::jsonization::MustReadJson(path);

  aas::common::expected<
    std::shared_ptr<ClassT>,
    aas::jsonization::DeserializationError
  > deserialized = deserialization_function(json, false);

  if (deserialized.has_value()) {
    INFO(
      aas::common::Concat(
        "Expected the de-serialization to fail on ",
        path.string(),
        ", but the de-serialization succeeded"
      )
    )
    REQUIRE(!deserialized.has_value());
  }

  test::common::AssertContentEqualsExpectedOrRecord(
    aas::common::Concat(
      aas::common::WstringToUtf8(
        deserialized.error().path.ToWstring()
      ),
      ": ",
      aas::common::WstringToUtf8(
        deserialized.error().cause
      )
    ),
    error_path
  );
}

const std::filesystem::path& DetermineJsonDir() {
  static aas::common::optional<std::filesystem::path> result;
  if (!result.has_value()) {
    result = test::common::DetermineTestDataDir() / "Json";
  }

  return *result;
}

const std::filesystem::path& DetermineErrorDir() {
  static aas::common::optional<std::filesystem::path> result;
  if (!result.has_value()) {
    result = test::common::DetermineTestDataDir() / "JsonizationError";
  }

  return *result;
}

TEST_CASE("Test the round-trip of an expected Extension") {
  const std::deque<std::filesystem::path> paths(
    test::common::FindFilesBySuffixRecursively(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Expected"
        / "Extension",
      ".json"
    )
  );

  for (const std::filesystem::path& path : paths) {
    AssertRoundTrip<
      aas::types::IEnvironment
    >(path, aas::jsonization::EnvironmentFrom);
  }
}

TEST_CASE("Test the de-serialization failure on an unexpected Extension") {
  for (
    const std::filesystem::path& causeDir
    : test::common::ListSubdirectories(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Unexpected"
        / "Unserializable"
    )
  ) {
    for (
      const std::filesystem::path& path
      : test::common::FindFilesBySuffixRecursively(
        causeDir / "Extension",
        ".json"
      )
    ) {
      const std::filesystem::path parent(
        (
          DetermineErrorDir()
          / std::filesystem::relative(path, DetermineJsonDir())
        ).parent_path()
      );

      const std::filesystem::path error_path(
        parent
        / (path.filename().string() + ".error")
      );

      AssertDeserializationFailure<
        aas::types::IEnvironment
      >(
        path,
        aas::jsonization::EnvironmentFrom,
        error_path
      );
    }
  }
}

TEST_CASE("Test the round-trip of an expected AdministrativeInformation") {
  const std::deque<std::filesystem::path> paths(
    test::common::FindFilesBySuffixRecursively(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Expected"
        / "AdministrativeInformation",
      ".json"
    )
  );

  for (const std::filesystem::path& path : paths) {
    AssertRoundTrip<
      aas::types::IEnvironment
    >(path, aas::jsonization::EnvironmentFrom);
  }
}

TEST_CASE("Test the de-serialization failure on an unexpected AdministrativeInformation") {
  for (
    const std::filesystem::path& causeDir
    : test::common::ListSubdirectories(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Unexpected"
        / "Unserializable"
    )
  ) {
    for (
      const std::filesystem::path& path
      : test::common::FindFilesBySuffixRecursively(
        causeDir / "AdministrativeInformation",
        ".json"
      )
    ) {
      const std::filesystem::path parent(
        (
          DetermineErrorDir()
          / std::filesystem::relative(path, DetermineJsonDir())
        ).parent_path()
      );

      const std::filesystem::path error_path(
        parent
        / (path.filename().string() + ".error")
      );

      AssertDeserializationFailure<
        aas::types::IEnvironment
      >(
        path,
        aas::jsonization::EnvironmentFrom,
        error_path
      );
    }
  }
}

TEST_CASE("Test the round-trip of an expected Qualifier") {
  const std::deque<std::filesystem::path> paths(
    test::common::FindFilesBySuffixRecursively(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Expected"
        / "Qualifier",
      ".json"
    )
  );

  for (const std::filesystem::path& path : paths) {
    AssertRoundTrip<
      aas::types::IEnvironment
    >(path, aas::jsonization::EnvironmentFrom);
  }
}

TEST_CASE("Test the de-serialization failure on an unexpected Qualifier") {
  for (
    const std::filesystem::path& causeDir
    : test::common::ListSubdirectories(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Unexpected"
        / "Unserializable"
    )
  ) {
    for (
      const std::filesystem::path& path
      : test::common::FindFilesBySuffixRecursively(
        causeDir / "Qualifier",
        ".json"
      )
    ) {
      const std::filesystem::path parent(
        (
          DetermineErrorDir()
          / std::filesystem::relative(path, DetermineJsonDir())
        ).parent_path()
      );

      const std::filesystem::path error_path(
        parent
        / (path.filename().string() + ".error")
      );

      AssertDeserializationFailure<
        aas::types::IEnvironment
      >(
        path,
        aas::jsonization::EnvironmentFrom,
        error_path
      );
    }
  }
}

TEST_CASE("Test the round-trip of an expected AssetAdministrationShell") {
  const std::deque<std::filesystem::path> paths(
    test::common::FindFilesBySuffixRecursively(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Expected"
        / "AssetAdministrationShell",
      ".json"
    )
  );

  for (const std::filesystem::path& path : paths) {
    AssertRoundTrip<
      aas::types::IEnvironment
    >(path, aas::jsonization::EnvironmentFrom);
  }
}

TEST_CASE("Test the de-serialization failure on an unexpected AssetAdministrationShell") {
  for (
    const std::filesystem::path& causeDir
    : test::common::ListSubdirectories(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Unexpected"
        / "Unserializable"
    )
  ) {
    for (
      const std::filesystem::path& path
      : test::common::FindFilesBySuffixRecursively(
        causeDir / "AssetAdministrationShell",
        ".json"
      )
    ) {
      const std::filesystem::path parent(
        (
          DetermineErrorDir()
          / std::filesystem::relative(path, DetermineJsonDir())
        ).parent_path()
      );

      const std::filesystem::path error_path(
        parent
        / (path.filename().string() + ".error")
      );

      AssertDeserializationFailure<
        aas::types::IEnvironment
      >(
        path,
        aas::jsonization::EnvironmentFrom,
        error_path
      );
    }
  }
}

TEST_CASE("Test the round-trip of an expected AssetInformation") {
  const std::deque<std::filesystem::path> paths(
    test::common::FindFilesBySuffixRecursively(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Expected"
        / "AssetInformation",
      ".json"
    )
  );

  for (const std::filesystem::path& path : paths) {
    AssertRoundTrip<
      aas::types::IEnvironment
    >(path, aas::jsonization::EnvironmentFrom);
  }
}

TEST_CASE("Test the de-serialization failure on an unexpected AssetInformation") {
  for (
    const std::filesystem::path& causeDir
    : test::common::ListSubdirectories(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Unexpected"
        / "Unserializable"
    )
  ) {
    for (
      const std::filesystem::path& path
      : test::common::FindFilesBySuffixRecursively(
        causeDir / "AssetInformation",
        ".json"
      )
    ) {
      const std::filesystem::path parent(
        (
          DetermineErrorDir()
          / std::filesystem::relative(path, DetermineJsonDir())
        ).parent_path()
      );

      const std::filesystem::path error_path(
        parent
        / (path.filename().string() + ".error")
      );

      AssertDeserializationFailure<
        aas::types::IEnvironment
      >(
        path,
        aas::jsonization::EnvironmentFrom,
        error_path
      );
    }
  }
}

TEST_CASE("Test the round-trip of an expected Resource") {
  const std::deque<std::filesystem::path> paths(
    test::common::FindFilesBySuffixRecursively(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Expected"
        / "Resource",
      ".json"
    )
  );

  for (const std::filesystem::path& path : paths) {
    AssertRoundTrip<
      aas::types::IEnvironment
    >(path, aas::jsonization::EnvironmentFrom);
  }
}

TEST_CASE("Test the de-serialization failure on an unexpected Resource") {
  for (
    const std::filesystem::path& causeDir
    : test::common::ListSubdirectories(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Unexpected"
        / "Unserializable"
    )
  ) {
    for (
      const std::filesystem::path& path
      : test::common::FindFilesBySuffixRecursively(
        causeDir / "Resource",
        ".json"
      )
    ) {
      const std::filesystem::path parent(
        (
          DetermineErrorDir()
          / std::filesystem::relative(path, DetermineJsonDir())
        ).parent_path()
      );

      const std::filesystem::path error_path(
        parent
        / (path.filename().string() + ".error")
      );

      AssertDeserializationFailure<
        aas::types::IEnvironment
      >(
        path,
        aas::jsonization::EnvironmentFrom,
        error_path
      );
    }
  }
}

TEST_CASE("Test the round-trip of an expected SpecificAssetId") {
  const std::deque<std::filesystem::path> paths(
    test::common::FindFilesBySuffixRecursively(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Expected"
        / "SpecificAssetId",
      ".json"
    )
  );

  for (const std::filesystem::path& path : paths) {
    AssertRoundTrip<
      aas::types::IEnvironment
    >(path, aas::jsonization::EnvironmentFrom);
  }
}

TEST_CASE("Test the de-serialization failure on an unexpected SpecificAssetId") {
  for (
    const std::filesystem::path& causeDir
    : test::common::ListSubdirectories(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Unexpected"
        / "Unserializable"
    )
  ) {
    for (
      const std::filesystem::path& path
      : test::common::FindFilesBySuffixRecursively(
        causeDir / "SpecificAssetId",
        ".json"
      )
    ) {
      const std::filesystem::path parent(
        (
          DetermineErrorDir()
          / std::filesystem::relative(path, DetermineJsonDir())
        ).parent_path()
      );

      const std::filesystem::path error_path(
        parent
        / (path.filename().string() + ".error")
      );

      AssertDeserializationFailure<
        aas::types::IEnvironment
      >(
        path,
        aas::jsonization::EnvironmentFrom,
        error_path
      );
    }
  }
}

TEST_CASE("Test the round-trip of an expected Submodel") {
  const std::deque<std::filesystem::path> paths(
    test::common::FindFilesBySuffixRecursively(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Expected"
        / "Submodel",
      ".json"
    )
  );

  for (const std::filesystem::path& path : paths) {
    AssertRoundTrip<
      aas::types::IEnvironment
    >(path, aas::jsonization::EnvironmentFrom);
  }
}

TEST_CASE("Test the de-serialization failure on an unexpected Submodel") {
  for (
    const std::filesystem::path& causeDir
    : test::common::ListSubdirectories(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Unexpected"
        / "Unserializable"
    )
  ) {
    for (
      const std::filesystem::path& path
      : test::common::FindFilesBySuffixRecursively(
        causeDir / "Submodel",
        ".json"
      )
    ) {
      const std::filesystem::path parent(
        (
          DetermineErrorDir()
          / std::filesystem::relative(path, DetermineJsonDir())
        ).parent_path()
      );

      const std::filesystem::path error_path(
        parent
        / (path.filename().string() + ".error")
      );

      AssertDeserializationFailure<
        aas::types::IEnvironment
      >(
        path,
        aas::jsonization::EnvironmentFrom,
        error_path
      );
    }
  }
}

TEST_CASE("Test the round-trip of an expected RelationshipElement") {
  const std::deque<std::filesystem::path> paths(
    test::common::FindFilesBySuffixRecursively(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Expected"
        / "RelationshipElement",
      ".json"
    )
  );

  for (const std::filesystem::path& path : paths) {
    AssertRoundTrip<
      aas::types::IEnvironment
    >(path, aas::jsonization::EnvironmentFrom);
  }
}

TEST_CASE("Test the de-serialization failure on an unexpected RelationshipElement") {
  for (
    const std::filesystem::path& causeDir
    : test::common::ListSubdirectories(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Unexpected"
        / "Unserializable"
    )
  ) {
    for (
      const std::filesystem::path& path
      : test::common::FindFilesBySuffixRecursively(
        causeDir / "RelationshipElement",
        ".json"
      )
    ) {
      const std::filesystem::path parent(
        (
          DetermineErrorDir()
          / std::filesystem::relative(path, DetermineJsonDir())
        ).parent_path()
      );

      const std::filesystem::path error_path(
        parent
        / (path.filename().string() + ".error")
      );

      AssertDeserializationFailure<
        aas::types::IEnvironment
      >(
        path,
        aas::jsonization::EnvironmentFrom,
        error_path
      );
    }
  }
}

TEST_CASE("Test the round-trip of an expected SubmodelElementList") {
  const std::deque<std::filesystem::path> paths(
    test::common::FindFilesBySuffixRecursively(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Expected"
        / "SubmodelElementList",
      ".json"
    )
  );

  for (const std::filesystem::path& path : paths) {
    AssertRoundTrip<
      aas::types::IEnvironment
    >(path, aas::jsonization::EnvironmentFrom);
  }
}

TEST_CASE("Test the de-serialization failure on an unexpected SubmodelElementList") {
  for (
    const std::filesystem::path& causeDir
    : test::common::ListSubdirectories(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Unexpected"
        / "Unserializable"
    )
  ) {
    for (
      const std::filesystem::path& path
      : test::common::FindFilesBySuffixRecursively(
        causeDir / "SubmodelElementList",
        ".json"
      )
    ) {
      const std::filesystem::path parent(
        (
          DetermineErrorDir()
          / std::filesystem::relative(path, DetermineJsonDir())
        ).parent_path()
      );

      const std::filesystem::path error_path(
        parent
        / (path.filename().string() + ".error")
      );

      AssertDeserializationFailure<
        aas::types::IEnvironment
      >(
        path,
        aas::jsonization::EnvironmentFrom,
        error_path
      );
    }
  }
}

TEST_CASE("Test the round-trip of an expected SubmodelElementCollection") {
  const std::deque<std::filesystem::path> paths(
    test::common::FindFilesBySuffixRecursively(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Expected"
        / "SubmodelElementCollection",
      ".json"
    )
  );

  for (const std::filesystem::path& path : paths) {
    AssertRoundTrip<
      aas::types::IEnvironment
    >(path, aas::jsonization::EnvironmentFrom);
  }
}

TEST_CASE("Test the de-serialization failure on an unexpected SubmodelElementCollection") {
  for (
    const std::filesystem::path& causeDir
    : test::common::ListSubdirectories(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Unexpected"
        / "Unserializable"
    )
  ) {
    for (
      const std::filesystem::path& path
      : test::common::FindFilesBySuffixRecursively(
        causeDir / "SubmodelElementCollection",
        ".json"
      )
    ) {
      const std::filesystem::path parent(
        (
          DetermineErrorDir()
          / std::filesystem::relative(path, DetermineJsonDir())
        ).parent_path()
      );

      const std::filesystem::path error_path(
        parent
        / (path.filename().string() + ".error")
      );

      AssertDeserializationFailure<
        aas::types::IEnvironment
      >(
        path,
        aas::jsonization::EnvironmentFrom,
        error_path
      );
    }
  }
}

TEST_CASE("Test the round-trip of an expected Property") {
  const std::deque<std::filesystem::path> paths(
    test::common::FindFilesBySuffixRecursively(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Expected"
        / "Property",
      ".json"
    )
  );

  for (const std::filesystem::path& path : paths) {
    AssertRoundTrip<
      aas::types::IEnvironment
    >(path, aas::jsonization::EnvironmentFrom);
  }
}

TEST_CASE("Test the de-serialization failure on an unexpected Property") {
  for (
    const std::filesystem::path& causeDir
    : test::common::ListSubdirectories(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Unexpected"
        / "Unserializable"
    )
  ) {
    for (
      const std::filesystem::path& path
      : test::common::FindFilesBySuffixRecursively(
        causeDir / "Property",
        ".json"
      )
    ) {
      const std::filesystem::path parent(
        (
          DetermineErrorDir()
          / std::filesystem::relative(path, DetermineJsonDir())
        ).parent_path()
      );

      const std::filesystem::path error_path(
        parent
        / (path.filename().string() + ".error")
      );

      AssertDeserializationFailure<
        aas::types::IEnvironment
      >(
        path,
        aas::jsonization::EnvironmentFrom,
        error_path
      );
    }
  }
}

TEST_CASE("Test the round-trip of an expected MultiLanguageProperty") {
  const std::deque<std::filesystem::path> paths(
    test::common::FindFilesBySuffixRecursively(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Expected"
        / "MultiLanguageProperty",
      ".json"
    )
  );

  for (const std::filesystem::path& path : paths) {
    AssertRoundTrip<
      aas::types::IEnvironment
    >(path, aas::jsonization::EnvironmentFrom);
  }
}

TEST_CASE("Test the de-serialization failure on an unexpected MultiLanguageProperty") {
  for (
    const std::filesystem::path& causeDir
    : test::common::ListSubdirectories(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Unexpected"
        / "Unserializable"
    )
  ) {
    for (
      const std::filesystem::path& path
      : test::common::FindFilesBySuffixRecursively(
        causeDir / "MultiLanguageProperty",
        ".json"
      )
    ) {
      const std::filesystem::path parent(
        (
          DetermineErrorDir()
          / std::filesystem::relative(path, DetermineJsonDir())
        ).parent_path()
      );

      const std::filesystem::path error_path(
        parent
        / (path.filename().string() + ".error")
      );

      AssertDeserializationFailure<
        aas::types::IEnvironment
      >(
        path,
        aas::jsonization::EnvironmentFrom,
        error_path
      );
    }
  }
}

TEST_CASE("Test the round-trip of an expected Range") {
  const std::deque<std::filesystem::path> paths(
    test::common::FindFilesBySuffixRecursively(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Expected"
        / "Range",
      ".json"
    )
  );

  for (const std::filesystem::path& path : paths) {
    AssertRoundTrip<
      aas::types::IEnvironment
    >(path, aas::jsonization::EnvironmentFrom);
  }
}

TEST_CASE("Test the de-serialization failure on an unexpected Range") {
  for (
    const std::filesystem::path& causeDir
    : test::common::ListSubdirectories(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Unexpected"
        / "Unserializable"
    )
  ) {
    for (
      const std::filesystem::path& path
      : test::common::FindFilesBySuffixRecursively(
        causeDir / "Range",
        ".json"
      )
    ) {
      const std::filesystem::path parent(
        (
          DetermineErrorDir()
          / std::filesystem::relative(path, DetermineJsonDir())
        ).parent_path()
      );

      const std::filesystem::path error_path(
        parent
        / (path.filename().string() + ".error")
      );

      AssertDeserializationFailure<
        aas::types::IEnvironment
      >(
        path,
        aas::jsonization::EnvironmentFrom,
        error_path
      );
    }
  }
}

TEST_CASE("Test the round-trip of an expected ReferenceElement") {
  const std::deque<std::filesystem::path> paths(
    test::common::FindFilesBySuffixRecursively(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Expected"
        / "ReferenceElement",
      ".json"
    )
  );

  for (const std::filesystem::path& path : paths) {
    AssertRoundTrip<
      aas::types::IEnvironment
    >(path, aas::jsonization::EnvironmentFrom);
  }
}

TEST_CASE("Test the de-serialization failure on an unexpected ReferenceElement") {
  for (
    const std::filesystem::path& causeDir
    : test::common::ListSubdirectories(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Unexpected"
        / "Unserializable"
    )
  ) {
    for (
      const std::filesystem::path& path
      : test::common::FindFilesBySuffixRecursively(
        causeDir / "ReferenceElement",
        ".json"
      )
    ) {
      const std::filesystem::path parent(
        (
          DetermineErrorDir()
          / std::filesystem::relative(path, DetermineJsonDir())
        ).parent_path()
      );

      const std::filesystem::path error_path(
        parent
        / (path.filename().string() + ".error")
      );

      AssertDeserializationFailure<
        aas::types::IEnvironment
      >(
        path,
        aas::jsonization::EnvironmentFrom,
        error_path
      );
    }
  }
}

TEST_CASE("Test the round-trip of an expected Blob") {
  const std::deque<std::filesystem::path> paths(
    test::common::FindFilesBySuffixRecursively(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Expected"
        / "Blob",
      ".json"
    )
  );

  for (const std::filesystem::path& path : paths) {
    AssertRoundTrip<
      aas::types::IEnvironment
    >(path, aas::jsonization::EnvironmentFrom);
  }
}

TEST_CASE("Test the de-serialization failure on an unexpected Blob") {
  for (
    const std::filesystem::path& causeDir
    : test::common::ListSubdirectories(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Unexpected"
        / "Unserializable"
    )
  ) {
    for (
      const std::filesystem::path& path
      : test::common::FindFilesBySuffixRecursively(
        causeDir / "Blob",
        ".json"
      )
    ) {
      const std::filesystem::path parent(
        (
          DetermineErrorDir()
          / std::filesystem::relative(path, DetermineJsonDir())
        ).parent_path()
      );

      const std::filesystem::path error_path(
        parent
        / (path.filename().string() + ".error")
      );

      AssertDeserializationFailure<
        aas::types::IEnvironment
      >(
        path,
        aas::jsonization::EnvironmentFrom,
        error_path
      );
    }
  }
}

TEST_CASE("Test the round-trip of an expected File") {
  const std::deque<std::filesystem::path> paths(
    test::common::FindFilesBySuffixRecursively(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Expected"
        / "File",
      ".json"
    )
  );

  for (const std::filesystem::path& path : paths) {
    AssertRoundTrip<
      aas::types::IEnvironment
    >(path, aas::jsonization::EnvironmentFrom);
  }
}

TEST_CASE("Test the de-serialization failure on an unexpected File") {
  for (
    const std::filesystem::path& causeDir
    : test::common::ListSubdirectories(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Unexpected"
        / "Unserializable"
    )
  ) {
    for (
      const std::filesystem::path& path
      : test::common::FindFilesBySuffixRecursively(
        causeDir / "File",
        ".json"
      )
    ) {
      const std::filesystem::path parent(
        (
          DetermineErrorDir()
          / std::filesystem::relative(path, DetermineJsonDir())
        ).parent_path()
      );

      const std::filesystem::path error_path(
        parent
        / (path.filename().string() + ".error")
      );

      AssertDeserializationFailure<
        aas::types::IEnvironment
      >(
        path,
        aas::jsonization::EnvironmentFrom,
        error_path
      );
    }
  }
}

TEST_CASE("Test the round-trip of an expected AnnotatedRelationshipElement") {
  const std::deque<std::filesystem::path> paths(
    test::common::FindFilesBySuffixRecursively(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Expected"
        / "AnnotatedRelationshipElement",
      ".json"
    )
  );

  for (const std::filesystem::path& path : paths) {
    AssertRoundTrip<
      aas::types::IEnvironment
    >(path, aas::jsonization::EnvironmentFrom);
  }
}

TEST_CASE("Test the de-serialization failure on an unexpected AnnotatedRelationshipElement") {
  for (
    const std::filesystem::path& causeDir
    : test::common::ListSubdirectories(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Unexpected"
        / "Unserializable"
    )
  ) {
    for (
      const std::filesystem::path& path
      : test::common::FindFilesBySuffixRecursively(
        causeDir / "AnnotatedRelationshipElement",
        ".json"
      )
    ) {
      const std::filesystem::path parent(
        (
          DetermineErrorDir()
          / std::filesystem::relative(path, DetermineJsonDir())
        ).parent_path()
      );

      const std::filesystem::path error_path(
        parent
        / (path.filename().string() + ".error")
      );

      AssertDeserializationFailure<
        aas::types::IEnvironment
      >(
        path,
        aas::jsonization::EnvironmentFrom,
        error_path
      );
    }
  }
}

TEST_CASE("Test the round-trip of an expected Entity") {
  const std::deque<std::filesystem::path> paths(
    test::common::FindFilesBySuffixRecursively(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Expected"
        / "Entity",
      ".json"
    )
  );

  for (const std::filesystem::path& path : paths) {
    AssertRoundTrip<
      aas::types::IEnvironment
    >(path, aas::jsonization::EnvironmentFrom);
  }
}

TEST_CASE("Test the de-serialization failure on an unexpected Entity") {
  for (
    const std::filesystem::path& causeDir
    : test::common::ListSubdirectories(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Unexpected"
        / "Unserializable"
    )
  ) {
    for (
      const std::filesystem::path& path
      : test::common::FindFilesBySuffixRecursively(
        causeDir / "Entity",
        ".json"
      )
    ) {
      const std::filesystem::path parent(
        (
          DetermineErrorDir()
          / std::filesystem::relative(path, DetermineJsonDir())
        ).parent_path()
      );

      const std::filesystem::path error_path(
        parent
        / (path.filename().string() + ".error")
      );

      AssertDeserializationFailure<
        aas::types::IEnvironment
      >(
        path,
        aas::jsonization::EnvironmentFrom,
        error_path
      );
    }
  }
}

TEST_CASE("Test the round-trip of an expected EventPayload") {
  const std::deque<std::filesystem::path> paths(
    test::common::FindFilesBySuffixRecursively(
      DetermineJsonDir()
        / "SelfContained"
        / "Expected"
        / "EventPayload",
      ".json"
    )
  );

  for (const std::filesystem::path& path : paths) {
    AssertRoundTrip<
      aas::types::IEventPayload
    >(path, aas::jsonization::EventPayloadFrom);
  }
}

TEST_CASE("Test the de-serialization failure on an unexpected EventPayload") {
  for (
    const std::filesystem::path& causeDir
    : test::common::ListSubdirectories(
      DetermineJsonDir()
        / "SelfContained"
        / "Unexpected"
        / "Unserializable"
    )
  ) {
    for (
      const std::filesystem::path& path
      : test::common::FindFilesBySuffixRecursively(
        causeDir / "EventPayload",
        ".json"
      )
    ) {
      const std::filesystem::path parent(
        (
          DetermineErrorDir()
          / std::filesystem::relative(path, DetermineJsonDir())
        ).parent_path()
      );

      const std::filesystem::path error_path(
        parent
        / (path.filename().string() + ".error")
      );

      AssertDeserializationFailure<
        aas::types::IEventPayload
      >(
        path,
        aas::jsonization::EventPayloadFrom,
        error_path
      );
    }
  }
}

TEST_CASE("Test the round-trip of an expected BasicEventElement") {
  const std::deque<std::filesystem::path> paths(
    test::common::FindFilesBySuffixRecursively(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Expected"
        / "BasicEventElement",
      ".json"
    )
  );

  for (const std::filesystem::path& path : paths) {
    AssertRoundTrip<
      aas::types::IEnvironment
    >(path, aas::jsonization::EnvironmentFrom);
  }
}

TEST_CASE("Test the de-serialization failure on an unexpected BasicEventElement") {
  for (
    const std::filesystem::path& causeDir
    : test::common::ListSubdirectories(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Unexpected"
        / "Unserializable"
    )
  ) {
    for (
      const std::filesystem::path& path
      : test::common::FindFilesBySuffixRecursively(
        causeDir / "BasicEventElement",
        ".json"
      )
    ) {
      const std::filesystem::path parent(
        (
          DetermineErrorDir()
          / std::filesystem::relative(path, DetermineJsonDir())
        ).parent_path()
      );

      const std::filesystem::path error_path(
        parent
        / (path.filename().string() + ".error")
      );

      AssertDeserializationFailure<
        aas::types::IEnvironment
      >(
        path,
        aas::jsonization::EnvironmentFrom,
        error_path
      );
    }
  }
}

TEST_CASE("Test the round-trip of an expected Operation") {
  const std::deque<std::filesystem::path> paths(
    test::common::FindFilesBySuffixRecursively(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Expected"
        / "Operation",
      ".json"
    )
  );

  for (const std::filesystem::path& path : paths) {
    AssertRoundTrip<
      aas::types::IEnvironment
    >(path, aas::jsonization::EnvironmentFrom);
  }
}

TEST_CASE("Test the de-serialization failure on an unexpected Operation") {
  for (
    const std::filesystem::path& causeDir
    : test::common::ListSubdirectories(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Unexpected"
        / "Unserializable"
    )
  ) {
    for (
      const std::filesystem::path& path
      : test::common::FindFilesBySuffixRecursively(
        causeDir / "Operation",
        ".json"
      )
    ) {
      const std::filesystem::path parent(
        (
          DetermineErrorDir()
          / std::filesystem::relative(path, DetermineJsonDir())
        ).parent_path()
      );

      const std::filesystem::path error_path(
        parent
        / (path.filename().string() + ".error")
      );

      AssertDeserializationFailure<
        aas::types::IEnvironment
      >(
        path,
        aas::jsonization::EnvironmentFrom,
        error_path
      );
    }
  }
}

TEST_CASE("Test the round-trip of an expected OperationVariable") {
  const std::deque<std::filesystem::path> paths(
    test::common::FindFilesBySuffixRecursively(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Expected"
        / "OperationVariable",
      ".json"
    )
  );

  for (const std::filesystem::path& path : paths) {
    AssertRoundTrip<
      aas::types::IEnvironment
    >(path, aas::jsonization::EnvironmentFrom);
  }
}

TEST_CASE("Test the de-serialization failure on an unexpected OperationVariable") {
  for (
    const std::filesystem::path& causeDir
    : test::common::ListSubdirectories(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Unexpected"
        / "Unserializable"
    )
  ) {
    for (
      const std::filesystem::path& path
      : test::common::FindFilesBySuffixRecursively(
        causeDir / "OperationVariable",
        ".json"
      )
    ) {
      const std::filesystem::path parent(
        (
          DetermineErrorDir()
          / std::filesystem::relative(path, DetermineJsonDir())
        ).parent_path()
      );

      const std::filesystem::path error_path(
        parent
        / (path.filename().string() + ".error")
      );

      AssertDeserializationFailure<
        aas::types::IEnvironment
      >(
        path,
        aas::jsonization::EnvironmentFrom,
        error_path
      );
    }
  }
}

TEST_CASE("Test the round-trip of an expected Capability") {
  const std::deque<std::filesystem::path> paths(
    test::common::FindFilesBySuffixRecursively(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Expected"
        / "Capability",
      ".json"
    )
  );

  for (const std::filesystem::path& path : paths) {
    AssertRoundTrip<
      aas::types::IEnvironment
    >(path, aas::jsonization::EnvironmentFrom);
  }
}

TEST_CASE("Test the de-serialization failure on an unexpected Capability") {
  for (
    const std::filesystem::path& causeDir
    : test::common::ListSubdirectories(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Unexpected"
        / "Unserializable"
    )
  ) {
    for (
      const std::filesystem::path& path
      : test::common::FindFilesBySuffixRecursively(
        causeDir / "Capability",
        ".json"
      )
    ) {
      const std::filesystem::path parent(
        (
          DetermineErrorDir()
          / std::filesystem::relative(path, DetermineJsonDir())
        ).parent_path()
      );

      const std::filesystem::path error_path(
        parent
        / (path.filename().string() + ".error")
      );

      AssertDeserializationFailure<
        aas::types::IEnvironment
      >(
        path,
        aas::jsonization::EnvironmentFrom,
        error_path
      );
    }
  }
}

TEST_CASE("Test the round-trip of an expected ConceptDescription") {
  const std::deque<std::filesystem::path> paths(
    test::common::FindFilesBySuffixRecursively(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Expected"
        / "ConceptDescription",
      ".json"
    )
  );

  for (const std::filesystem::path& path : paths) {
    AssertRoundTrip<
      aas::types::IEnvironment
    >(path, aas::jsonization::EnvironmentFrom);
  }
}

TEST_CASE("Test the de-serialization failure on an unexpected ConceptDescription") {
  for (
    const std::filesystem::path& causeDir
    : test::common::ListSubdirectories(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Unexpected"
        / "Unserializable"
    )
  ) {
    for (
      const std::filesystem::path& path
      : test::common::FindFilesBySuffixRecursively(
        causeDir / "ConceptDescription",
        ".json"
      )
    ) {
      const std::filesystem::path parent(
        (
          DetermineErrorDir()
          / std::filesystem::relative(path, DetermineJsonDir())
        ).parent_path()
      );

      const std::filesystem::path error_path(
        parent
        / (path.filename().string() + ".error")
      );

      AssertDeserializationFailure<
        aas::types::IEnvironment
      >(
        path,
        aas::jsonization::EnvironmentFrom,
        error_path
      );
    }
  }
}

TEST_CASE("Test the round-trip of an expected Reference") {
  const std::deque<std::filesystem::path> paths(
    test::common::FindFilesBySuffixRecursively(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Expected"
        / "Reference",
      ".json"
    )
  );

  for (const std::filesystem::path& path : paths) {
    AssertRoundTrip<
      aas::types::IEnvironment
    >(path, aas::jsonization::EnvironmentFrom);
  }
}

TEST_CASE("Test the de-serialization failure on an unexpected Reference") {
  for (
    const std::filesystem::path& causeDir
    : test::common::ListSubdirectories(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Unexpected"
        / "Unserializable"
    )
  ) {
    for (
      const std::filesystem::path& path
      : test::common::FindFilesBySuffixRecursively(
        causeDir / "Reference",
        ".json"
      )
    ) {
      const std::filesystem::path parent(
        (
          DetermineErrorDir()
          / std::filesystem::relative(path, DetermineJsonDir())
        ).parent_path()
      );

      const std::filesystem::path error_path(
        parent
        / (path.filename().string() + ".error")
      );

      AssertDeserializationFailure<
        aas::types::IEnvironment
      >(
        path,
        aas::jsonization::EnvironmentFrom,
        error_path
      );
    }
  }
}

TEST_CASE("Test the round-trip of an expected Key") {
  const std::deque<std::filesystem::path> paths(
    test::common::FindFilesBySuffixRecursively(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Expected"
        / "Key",
      ".json"
    )
  );

  for (const std::filesystem::path& path : paths) {
    AssertRoundTrip<
      aas::types::IEnvironment
    >(path, aas::jsonization::EnvironmentFrom);
  }
}

TEST_CASE("Test the de-serialization failure on an unexpected Key") {
  for (
    const std::filesystem::path& causeDir
    : test::common::ListSubdirectories(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Unexpected"
        / "Unserializable"
    )
  ) {
    for (
      const std::filesystem::path& path
      : test::common::FindFilesBySuffixRecursively(
        causeDir / "Key",
        ".json"
      )
    ) {
      const std::filesystem::path parent(
        (
          DetermineErrorDir()
          / std::filesystem::relative(path, DetermineJsonDir())
        ).parent_path()
      );

      const std::filesystem::path error_path(
        parent
        / (path.filename().string() + ".error")
      );

      AssertDeserializationFailure<
        aas::types::IEnvironment
      >(
        path,
        aas::jsonization::EnvironmentFrom,
        error_path
      );
    }
  }
}

TEST_CASE("Test the round-trip of an expected LangStringNameType") {
  const std::deque<std::filesystem::path> paths(
    test::common::FindFilesBySuffixRecursively(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Expected"
        / "LangStringNameType",
      ".json"
    )
  );

  for (const std::filesystem::path& path : paths) {
    AssertRoundTrip<
      aas::types::IEnvironment
    >(path, aas::jsonization::EnvironmentFrom);
  }
}

TEST_CASE("Test the de-serialization failure on an unexpected LangStringNameType") {
  for (
    const std::filesystem::path& causeDir
    : test::common::ListSubdirectories(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Unexpected"
        / "Unserializable"
    )
  ) {
    for (
      const std::filesystem::path& path
      : test::common::FindFilesBySuffixRecursively(
        causeDir / "LangStringNameType",
        ".json"
      )
    ) {
      const std::filesystem::path parent(
        (
          DetermineErrorDir()
          / std::filesystem::relative(path, DetermineJsonDir())
        ).parent_path()
      );

      const std::filesystem::path error_path(
        parent
        / (path.filename().string() + ".error")
      );

      AssertDeserializationFailure<
        aas::types::IEnvironment
      >(
        path,
        aas::jsonization::EnvironmentFrom,
        error_path
      );
    }
  }
}

TEST_CASE("Test the round-trip of an expected LangStringTextType") {
  const std::deque<std::filesystem::path> paths(
    test::common::FindFilesBySuffixRecursively(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Expected"
        / "LangStringTextType",
      ".json"
    )
  );

  for (const std::filesystem::path& path : paths) {
    AssertRoundTrip<
      aas::types::IEnvironment
    >(path, aas::jsonization::EnvironmentFrom);
  }
}

TEST_CASE("Test the de-serialization failure on an unexpected LangStringTextType") {
  for (
    const std::filesystem::path& causeDir
    : test::common::ListSubdirectories(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Unexpected"
        / "Unserializable"
    )
  ) {
    for (
      const std::filesystem::path& path
      : test::common::FindFilesBySuffixRecursively(
        causeDir / "LangStringTextType",
        ".json"
      )
    ) {
      const std::filesystem::path parent(
        (
          DetermineErrorDir()
          / std::filesystem::relative(path, DetermineJsonDir())
        ).parent_path()
      );

      const std::filesystem::path error_path(
        parent
        / (path.filename().string() + ".error")
      );

      AssertDeserializationFailure<
        aas::types::IEnvironment
      >(
        path,
        aas::jsonization::EnvironmentFrom,
        error_path
      );
    }
  }
}

TEST_CASE("Test the round-trip of an expected Environment") {
  const std::deque<std::filesystem::path> paths(
    test::common::FindFilesBySuffixRecursively(
      DetermineJsonDir()
        / "SelfContained"
        / "Expected"
        / "Environment",
      ".json"
    )
  );

  for (const std::filesystem::path& path : paths) {
    AssertRoundTrip<
      aas::types::IEnvironment
    >(path, aas::jsonization::EnvironmentFrom);
  }
}

TEST_CASE("Test the de-serialization failure on an unexpected Environment") {
  for (
    const std::filesystem::path& causeDir
    : test::common::ListSubdirectories(
      DetermineJsonDir()
        / "SelfContained"
        / "Unexpected"
        / "Unserializable"
    )
  ) {
    for (
      const std::filesystem::path& path
      : test::common::FindFilesBySuffixRecursively(
        causeDir / "Environment",
        ".json"
      )
    ) {
      const std::filesystem::path parent(
        (
          DetermineErrorDir()
          / std::filesystem::relative(path, DetermineJsonDir())
        ).parent_path()
      );

      const std::filesystem::path error_path(
        parent
        / (path.filename().string() + ".error")
      );

      AssertDeserializationFailure<
        aas::types::IEnvironment
      >(
        path,
        aas::jsonization::EnvironmentFrom,
        error_path
      );
    }
  }
}

TEST_CASE("Test the round-trip of an expected EmbeddedDataSpecification") {
  const std::deque<std::filesystem::path> paths(
    test::common::FindFilesBySuffixRecursively(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Expected"
        / "EmbeddedDataSpecification",
      ".json"
    )
  );

  for (const std::filesystem::path& path : paths) {
    AssertRoundTrip<
      aas::types::IEnvironment
    >(path, aas::jsonization::EnvironmentFrom);
  }
}

TEST_CASE("Test the de-serialization failure on an unexpected EmbeddedDataSpecification") {
  for (
    const std::filesystem::path& causeDir
    : test::common::ListSubdirectories(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Unexpected"
        / "Unserializable"
    )
  ) {
    for (
      const std::filesystem::path& path
      : test::common::FindFilesBySuffixRecursively(
        causeDir / "EmbeddedDataSpecification",
        ".json"
      )
    ) {
      const std::filesystem::path parent(
        (
          DetermineErrorDir()
          / std::filesystem::relative(path, DetermineJsonDir())
        ).parent_path()
      );

      const std::filesystem::path error_path(
        parent
        / (path.filename().string() + ".error")
      );

      AssertDeserializationFailure<
        aas::types::IEnvironment
      >(
        path,
        aas::jsonization::EnvironmentFrom,
        error_path
      );
    }
  }
}

TEST_CASE("Test the round-trip of an expected LevelType") {
  const std::deque<std::filesystem::path> paths(
    test::common::FindFilesBySuffixRecursively(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Expected"
        / "LevelType",
      ".json"
    )
  );

  for (const std::filesystem::path& path : paths) {
    AssertRoundTrip<
      aas::types::IEnvironment
    >(path, aas::jsonization::EnvironmentFrom);
  }
}

TEST_CASE("Test the de-serialization failure on an unexpected LevelType") {
  for (
    const std::filesystem::path& causeDir
    : test::common::ListSubdirectories(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Unexpected"
        / "Unserializable"
    )
  ) {
    for (
      const std::filesystem::path& path
      : test::common::FindFilesBySuffixRecursively(
        causeDir / "LevelType",
        ".json"
      )
    ) {
      const std::filesystem::path parent(
        (
          DetermineErrorDir()
          / std::filesystem::relative(path, DetermineJsonDir())
        ).parent_path()
      );

      const std::filesystem::path error_path(
        parent
        / (path.filename().string() + ".error")
      );

      AssertDeserializationFailure<
        aas::types::IEnvironment
      >(
        path,
        aas::jsonization::EnvironmentFrom,
        error_path
      );
    }
  }
}

TEST_CASE("Test the round-trip of an expected ValueReferencePair") {
  const std::deque<std::filesystem::path> paths(
    test::common::FindFilesBySuffixRecursively(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Expected"
        / "ValueReferencePair",
      ".json"
    )
  );

  for (const std::filesystem::path& path : paths) {
    AssertRoundTrip<
      aas::types::IEnvironment
    >(path, aas::jsonization::EnvironmentFrom);
  }
}

TEST_CASE("Test the de-serialization failure on an unexpected ValueReferencePair") {
  for (
    const std::filesystem::path& causeDir
    : test::common::ListSubdirectories(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Unexpected"
        / "Unserializable"
    )
  ) {
    for (
      const std::filesystem::path& path
      : test::common::FindFilesBySuffixRecursively(
        causeDir / "ValueReferencePair",
        ".json"
      )
    ) {
      const std::filesystem::path parent(
        (
          DetermineErrorDir()
          / std::filesystem::relative(path, DetermineJsonDir())
        ).parent_path()
      );

      const std::filesystem::path error_path(
        parent
        / (path.filename().string() + ".error")
      );

      AssertDeserializationFailure<
        aas::types::IEnvironment
      >(
        path,
        aas::jsonization::EnvironmentFrom,
        error_path
      );
    }
  }
}

TEST_CASE("Test the round-trip of an expected ValueList") {
  const std::deque<std::filesystem::path> paths(
    test::common::FindFilesBySuffixRecursively(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Expected"
        / "ValueList",
      ".json"
    )
  );

  for (const std::filesystem::path& path : paths) {
    AssertRoundTrip<
      aas::types::IEnvironment
    >(path, aas::jsonization::EnvironmentFrom);
  }
}

TEST_CASE("Test the de-serialization failure on an unexpected ValueList") {
  for (
    const std::filesystem::path& causeDir
    : test::common::ListSubdirectories(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Unexpected"
        / "Unserializable"
    )
  ) {
    for (
      const std::filesystem::path& path
      : test::common::FindFilesBySuffixRecursively(
        causeDir / "ValueList",
        ".json"
      )
    ) {
      const std::filesystem::path parent(
        (
          DetermineErrorDir()
          / std::filesystem::relative(path, DetermineJsonDir())
        ).parent_path()
      );

      const std::filesystem::path error_path(
        parent
        / (path.filename().string() + ".error")
      );

      AssertDeserializationFailure<
        aas::types::IEnvironment
      >(
        path,
        aas::jsonization::EnvironmentFrom,
        error_path
      );
    }
  }
}

TEST_CASE("Test the round-trip of an expected LangStringPreferredNameTypeIec61360") {
  const std::deque<std::filesystem::path> paths(
    test::common::FindFilesBySuffixRecursively(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Expected"
        / "LangStringPreferredNameTypeIec61360",
      ".json"
    )
  );

  for (const std::filesystem::path& path : paths) {
    AssertRoundTrip<
      aas::types::IEnvironment
    >(path, aas::jsonization::EnvironmentFrom);
  }
}

TEST_CASE("Test the de-serialization failure on an unexpected LangStringPreferredNameTypeIec61360") {
  for (
    const std::filesystem::path& causeDir
    : test::common::ListSubdirectories(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Unexpected"
        / "Unserializable"
    )
  ) {
    for (
      const std::filesystem::path& path
      : test::common::FindFilesBySuffixRecursively(
        causeDir / "LangStringPreferredNameTypeIec61360",
        ".json"
      )
    ) {
      const std::filesystem::path parent(
        (
          DetermineErrorDir()
          / std::filesystem::relative(path, DetermineJsonDir())
        ).parent_path()
      );

      const std::filesystem::path error_path(
        parent
        / (path.filename().string() + ".error")
      );

      AssertDeserializationFailure<
        aas::types::IEnvironment
      >(
        path,
        aas::jsonization::EnvironmentFrom,
        error_path
      );
    }
  }
}

TEST_CASE("Test the round-trip of an expected LangStringShortNameTypeIec61360") {
  const std::deque<std::filesystem::path> paths(
    test::common::FindFilesBySuffixRecursively(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Expected"
        / "LangStringShortNameTypeIec61360",
      ".json"
    )
  );

  for (const std::filesystem::path& path : paths) {
    AssertRoundTrip<
      aas::types::IEnvironment
    >(path, aas::jsonization::EnvironmentFrom);
  }
}

TEST_CASE("Test the de-serialization failure on an unexpected LangStringShortNameTypeIec61360") {
  for (
    const std::filesystem::path& causeDir
    : test::common::ListSubdirectories(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Unexpected"
        / "Unserializable"
    )
  ) {
    for (
      const std::filesystem::path& path
      : test::common::FindFilesBySuffixRecursively(
        causeDir / "LangStringShortNameTypeIec61360",
        ".json"
      )
    ) {
      const std::filesystem::path parent(
        (
          DetermineErrorDir()
          / std::filesystem::relative(path, DetermineJsonDir())
        ).parent_path()
      );

      const std::filesystem::path error_path(
        parent
        / (path.filename().string() + ".error")
      );

      AssertDeserializationFailure<
        aas::types::IEnvironment
      >(
        path,
        aas::jsonization::EnvironmentFrom,
        error_path
      );
    }
  }
}

TEST_CASE("Test the round-trip of an expected LangStringDefinitionTypeIec61360") {
  const std::deque<std::filesystem::path> paths(
    test::common::FindFilesBySuffixRecursively(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Expected"
        / "LangStringDefinitionTypeIec61360",
      ".json"
    )
  );

  for (const std::filesystem::path& path : paths) {
    AssertRoundTrip<
      aas::types::IEnvironment
    >(path, aas::jsonization::EnvironmentFrom);
  }
}

TEST_CASE("Test the de-serialization failure on an unexpected LangStringDefinitionTypeIec61360") {
  for (
    const std::filesystem::path& causeDir
    : test::common::ListSubdirectories(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Unexpected"
        / "Unserializable"
    )
  ) {
    for (
      const std::filesystem::path& path
      : test::common::FindFilesBySuffixRecursively(
        causeDir / "LangStringDefinitionTypeIec61360",
        ".json"
      )
    ) {
      const std::filesystem::path parent(
        (
          DetermineErrorDir()
          / std::filesystem::relative(path, DetermineJsonDir())
        ).parent_path()
      );

      const std::filesystem::path error_path(
        parent
        / (path.filename().string() + ".error")
      );

      AssertDeserializationFailure<
        aas::types::IEnvironment
      >(
        path,
        aas::jsonization::EnvironmentFrom,
        error_path
      );
    }
  }
}

TEST_CASE("Test the round-trip of an expected DataSpecificationIec61360") {
  const std::deque<std::filesystem::path> paths(
    test::common::FindFilesBySuffixRecursively(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Expected"
        / "DataSpecificationIec61360",
      ".json"
    )
  );

  for (const std::filesystem::path& path : paths) {
    AssertRoundTrip<
      aas::types::IEnvironment
    >(path, aas::jsonization::EnvironmentFrom);
  }
}

TEST_CASE("Test the de-serialization failure on an unexpected DataSpecificationIec61360") {
  for (
    const std::filesystem::path& causeDir
    : test::common::ListSubdirectories(
      DetermineJsonDir()
        / "ContainedInEnvironment"
        / "Unexpected"
        / "Unserializable"
    )
  ) {
    for (
      const std::filesystem::path& path
      : test::common::FindFilesBySuffixRecursively(
        causeDir / "DataSpecificationIec61360",
        ".json"
      )
    ) {
      const std::filesystem::path parent(
        (
          DetermineErrorDir()
          / std::filesystem::relative(path, DetermineJsonDir())
        ).parent_path()
      );

      const std::filesystem::path error_path(
        parent
        / (path.filename().string() + ".error")
      );

      AssertDeserializationFailure<
        aas::types::IEnvironment
      >(
        path,
        aas::jsonization::EnvironmentFrom,
        error_path
      );
    }
  }
}

// This code has been automatically generated by:
// dev_scripts/test_codegen/generate_test_jsonization_of_concrete_classes.py
// Do NOT edit or append.
